/*!
 * jQuery shTooltip plugin v1.0
 * 2014-01-23
 *
 * Copyright (c) 2010-2014 Pavel Tzonkov <sunhater@sunhater.com>
 * Dual licensed under the MIT and GPL licenses.
 */
(function(a){a.fn.shTooltip=function(g){var j={namespace:"shtt",position:{left:15,top:20,vertical:"bottom",horizontal:"right"},align:false,snap:true,css:false,content:false,contentNext:false,eventOpen:"mouseenter",eventClose:"mouseleave",fade:"fast"},d="shtt-default",h={position:"absolute",display:"none",background:"#ffb",border:"1px solid #885",padding:"2px 3px",color:"#555","border-radius":"3px"},e="jQuery shTooltip plugin",i=function(c){var k=c.data("tip");if(k){c.data("tip",false);k.fadeOut(j.fade,function(){k.detach()})}return false},b=function(m,o,n){var k=a(window).scrollLeft();var p=a(window).scrollTop();var l=m.outerWidth(true);var c=m.outerHeight(true);if((l<=a(window).width())&&(c<=a(window).height())){if(o<k){o=k}else{if((o+l)>(k+a(window).width())){o=a(window).width()+k-l}}if(n<p){n=p}else{if((n+c)>(p+a(window).height())){n=a(window).height()+p-c}}}m.css({left:o+"px",top:n+"px"})};if((typeof g!="undefined")&&g.substr){j.content=g}else{a.extend(j,g)}if(!a("#"+d).get(0)){var f='<style id="'+d+'" type="text/css">.'+d+"{";a.each(h,function(k,c){f+=k+":"+c+";"});f+="}</style>";a("head").prepend(f)}this.each(function(){var c,k=a(this).first();k.unbind(j.eventOpen);k.unbind(j.eventClose);if(k.data("content")&&k.data("content").length){c=k.data("content")}else{if(j.contentNext){c=k.next().html();k.next().css("display","none")}else{if(j.content!==false){c=j.content}else{if(k.attr("title")&&k.attr("title").length){c=k.attr("title")}else{c=e}}}}if(k.attr("title")){k.attr("title","")}if(!c||!c.length){return}k.data("content",c);k.bind(j.eventOpen,function(){var l=a(this).data("content");if((j.eventOpen==j.eventClose)&&a(this).data("tip")){return i(a(this))}var m=a("<div></div>").appendTo("body").addClass(d).addClass(j.namespace).html(l);if(j.css){m.css(j.css)}if(j.position.substr){var o,n;if(/^top|bottom$/.test(j.position)&&!/^left|right|center$/.test(j.align)){j.align="left"}if(/^left|right$/.test(j.position)&&!/^top|bottom|center$/.test(j.align)){j.align="top"}if(/^top|bottom$/.test(j.position)){if(j.align=="left"){n=a(this).offset().left}else{if(j.align=="right"){n=a(this).offset().left+a(this).outerWidth(true)-m.outerWidth(true)}else{if(j.align=="center"){n=a(this).offset().left-parseInt((m.outerWidth(true)-a(this).outerWidth(true))/2)}}}}if(/^left|right$/.test(j.position)){if(j.align=="top"){o=a(this).offset().top}else{if(j.align=="bottom"){o=a(this).offset().top+a(this).outerHeight(true)-m.outerHeight(true)}else{if(j.align=="center"){o=a(this).offset().top-parseInt((m.outerHeight(true)-a(this).outerHeight(true))/2)}}}}if(/^top(Left|Right)?$/.test(j.position)){o=a(this).offset().top-m.outerHeight(true)}if(/^bottom(Left|Right)?$/.test(j.position)){o=a(this).offset().top+a(this).outerHeight(true)}if(/^(topL|bottomL|l)eft$/.test(j.position)){n=a(this).offset().left-m.outerWidth(true)}if(/^(topR|bottomR|r)ight$/.test(j.position)){n=a(this).offset().left+a(this).outerWidth(true)}m.css({left:a(window).scrollLeft()+"px",top:a(window).scrollTop()+"px"});if(j.snap){b(m,n,o)}m.fadeIn(j.fade)}else{if(typeof j.position=="object"){if(!j.position.left){j.position.left=0}if(!j.position.top){j.position.top=0}a(this).unbind("mousemove");a(this).bind("mousemove",function(r){var t=r.pageX+j.position.left,s=r.pageY+j.position.top;if(/^top|center$/.test(j.position.vertical)){var p=m.outerHeight(true);if(j.position.vertical=="top"){s-=p}else{if(j.position.vertical=="center"){s-=parseInt(p/2)}}}if(/^left|center$/.test(j.position.horizontal)){var q=m.outerWidth(true);if(j.position.horizontal=="left"){t-=q}else{if(j.position.horizontal=="center"){t-=parseInt(q/2)}}}m.css({left:a(window).scrollLeft()+"px",top:a(window).scrollTop()+"px"});m.fadeIn(j.fade);if(j.snap){b(m,t,s)}})}}a(this).data("tip",m)});if(j.eventOpen!=j.eventClose){k.bind(j.eventClose,function(){return i(a(this))})}})}})(jQuery);